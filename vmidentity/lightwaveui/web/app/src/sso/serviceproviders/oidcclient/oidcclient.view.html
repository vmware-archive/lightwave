<!--

 * Copyright © 2012-2016 VMware, Inc.  All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the “License”); you may not
 * use this file except in compliance with the License.  You may obtain a copy
 * of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an “AS IS” BASIS, without
 * warranties or conditions of any kind, EITHER EXPRESS OR IMPLIED.  See the
 * License for the specific language governing permissions and limitations
 * under the License.

-->

<div class="popup-container">
    <div class="header-20px">
        View Open ID Connect Client '{{
        vm.selectedOIDCClient.clientId.length > 25 ?
        vm.selectedOIDCClient.clientId.substring(0,25) + '...' :
        vm.selectedOIDCClient.clientId;
        }}'
    </div>
    <div class='error' ng-show="globals.popup_errors && !globals.popup_errors.success">
        <img src="../app/assets/error.png" width="16px" height="16px"/>
        <button type="button"
                class="btn btn-xs btn-link pull-right"
                ng-click="globals.popup_errors = null;">X
        </button>
        {{globals.popup_errors.details}} {{globals.popup_errors.cause}}
    </div>
    <div class='success' ng-show="globals.popup_errors && globals.popup_errors.success">
        <img src="../app/assets/success.png" width="16px" height="16px"/>
        <button type="button"
                class="btn btn-xs btn-link pull-right"
                ng-click="globals.popup_errors = null;">X
        </button>
        {{globals.popup_errors.details}}
    </div>
    <div class="row">
        <div class="row content popup-content">
            <div class="popup-row col-xs-12">
                <div class="col-xs-4">
                        Client ID
                </div>
                <div class="col-xs-8">
                    {{
                        vm.selectedOIDCClient.clientId
                    }}
                </div>
                </div>
            <div class="col-xs-12 popup-row">
                <div class="col-xs-4">
                        Certificate DN
                </div>
                <div class="col-xs-8">
                    {{
                        vm.selectedOIDCClient.oidcclientMetadataDTO.certSubjectDN
                    }}
                </div>
            </div>
            <div class="col-xs-12 popup-row">
                <div class="col-xs-4">
                        Token Auth Method
                </div>
                <div class="col-xs-8">
                    {{
                        vm.selectedOIDCClient.oidcclientMetadataDTO.tokenEndpointAuthMethod
                    }}
                </div>
            </div>
            <div class="col-xs-12 popup-row">
                <div class="col-xs-4">
                        Logout URI
                </div>
                <div class="col-xs-8">
                    {{
                        vm.selectedOIDCClient.oidcclientMetadataDTO.logoutUri
                    }}
                </div>
            </div>
            <div class="col-xs-12 popup-row">
                <div class="col-xs-4">
                        Redirect URI
                </div>
                <div class="col-xs-8">
                    <div ng-show="!vm.selectedOIDCClient.oidcclientMetadataDTO.redirectUris">
                       No redirect URI specified
                    </div>
                    <div ng-repeat="redirectUri in vm.selectedOIDCClient.oidcclientMetadataDTO.redirectUris"
                         ng-show="vm.selectedOIDCClient.oidcclientMetadataDTO.redirectUris"
                         ng-if="redirectUri"
                         uib-tooltip="{{redirectUri}}">
                        {{
                            redirectUri.length > 50
                            ? redirectUri.substring(0,50) + '...'
                            : redirectUri
                        }}
                    </div>
                </div>
            </div>
            <div class="col-xs-12 popup-row">
                <div class="col-xs-4">
                        Post Logout Redirect URI
                </div>
                <div class="col-xs-8">
                    <div ng-show="!vm.selectedOIDCClient.oidcclientMetadataDTO.postLogoutRedirectUris">
                        No post logout redirect URI specified
                    </div>
                    <div ng-repeat="postlogoutRedirectUri in vm.selectedOIDCClient.oidcclientMetadataDTO.postLogoutRedirectUris"
                         ng-show="vm.selectedOIDCClient.oidcclientMetadataDTO.postLogoutRedirectUris"
                         ng-if="postlogoutRedirectUri"
                         uib-tooltip="{{postlogoutRedirectUri}}">
                        {{
                            postlogoutRedirectUri.length > 50
                            ? postlogoutRedirectUri.substring(0,50) + '...'
                            : postlogoutRedirectUri
                        }}
                    </div>
                </div>
            </div>
        </div>
        <div class="popup-row col-xs-12">
            <button type="button"
                    class="btn btn-default pull-right btn-popup-footer"
                    ng-click="closeThisDialog('cancel')">Close</button>
        </div>
    </div>
</div>